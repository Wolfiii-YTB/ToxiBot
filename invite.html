<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ToxiBot - Inviter</title>

  <!-- CSS -->
  <link rel="stylesheet" href="style.css">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cherry+Bomb+One&display=swap" rel="stylesheet">
</head>

<body>
  <header>
    <div class="bouttonhome">
      <a href="index.html">
        <img src="image/home.svg" alt="Ic√¥ne Accueil">
        Accueil
      </a>
    </div>
    <h1 class="texteinvit">Inviter ToxiBot</h1>
  </header>

  <main>
    <section class="invitbot">
      <h1>üöß Cette fonctionnalit√© sera disponible prochainement. üöß</h1>
      <h2 id="now">Heure actuelle : </h2>
      <h2 id="countdown">D√©compte : </h2>

      <p class="texteinfo">
        Nous terminons actuellement le d√©veloppement du bot ! Une premi√®re version avec les fonctionnalit√©s de base est pr√©vue pour le
        <strong>14 juillet 2025 √† 20h00</strong>.
      </p>

      <!-- Conteneur pour le bouton qui s'affichera √† 20h -->
      <div id="invite-button-container"></div>
    </section>
  </main>

  <footer></footer>

  <!-- Script -->
  <script>
    function updateCountdown() {
      const now = new Date();
      document.getElementById("now").textContent =
        "Heure actuelle : " + now.toLocaleTimeString();

      const target = new Date();
      target.setHours(20, 0, 0, 0); // Aujourd'hui √† 20h00

      if (now > target) {
        target.setDate(target.getDate() + 1);
      }

      const diffMs = target - now;

      const hours = Math.floor(diffMs / (1000 * 60 * 60));
      const minutes = Math.floor((diffMs % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((diffMs % (1000 * 60)) / 1000);

      document.getElementById("countdown").textContent =
        `D√©compte : ${hours}h ${minutes}m ${seconds}s`;

      // Quand le d√©compte est termin√©
      if (diffMs <= 0) {
        showInviteButton();
        clearInterval(intervalID); // Arr√™ter la boucle
      }
    }

    function showInviteButton() {
      const container = document.getElementById("invite-button-container");

      const button = document.createElement("a");
      button.href = "https://discord.com/oauth2/authorize?client_id=1393562071228088421&permissions=8&integration_type=0&scope=bot";
      button.textContent = "üéâ Inviter ToxiBot maintenant !";
      button.className = "invite-button"; // Utilise une classe CSS pour le style
      button.target = "_blank"; // Ouvre dans un nouvel onglet

      container.appendChild(button);
    }

    // D√©marre la mise √† jour toutes les secondes
    const intervalID = setInterval(updateCountdown, 1000);
    updateCountdown(); // Appel initial
  </script>

  <!-- Style minimal pour le bouton (tu peux l'am√©liorer dans style.css) -->
  <style>
    .invite-button {
      display: inline-block;
      margin-top: 20px;
      padding: 12px 20px;
      background-color: #5865F2;
      color: white;
      text-decoration: none;
      border-radius: 8px;
      font-weight: bold;
      font-size: 1.1em;
      transition: background-color 0.3s ease;
    }

    .invite-button:hover {
      background-color: #4752C4;
    }
  </style>
</body>
</html>
